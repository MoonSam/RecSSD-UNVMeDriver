<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>User-space NVME Driver: /media/mwilkeni/data/research/MicronSSD-unvme/src/unvme_nvme.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">User-space NVME Driver
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('unvme__nvme_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">unvme_nvme.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>NVMe implementation.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;sys/mman.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &quot;<a class="el" href="rdtsc_8h_source.html">rdtsc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="unvme__log_8h_source.html">unvme_log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="unvme__nvme_8h_source.html">unvme_nvme.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for unvme_nvme.c:</div>
<div class="dyncontent">
<div class="center"><img src="unvme__nvme_8c__incl.png" border="0" usemap="#_2media_2mwilkeni_2data_2research_2MicronSSD-unvme_2src_2unvme__nvme_8c" alt=""/></div>
<map name="_2media_2mwilkeni_2data_2research_2MicronSSD-unvme_2src_2unvme__nvme_8c" id="_2media_2mwilkeni_2data_2research_2MicronSSD-unvme_2src_2unvme__nvme_8c">
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ace54fb125ce34434626a3f2f0679f088"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#ace54fb125ce34434626a3f2f0679f088">nvme_ctlr_wait_ready</a> (<a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *dev, int ready)</td></tr>
<tr class="separator:ace54fb125ce34434626a3f2f0679f088"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07e19a085ac3acfc906edc23086c9398"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#a07e19a085ac3acfc906edc23086c9398">nvme_ctlr_disable</a> (<a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *dev)</td></tr>
<tr class="separator:a07e19a085ac3acfc906edc23086c9398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81186514eda42496873393557a046901"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#a81186514eda42496873393557a046901">nvme_ctlr_enable</a> (<a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *dev, <a class="el" href="unvme__nvme_8h.html#af2cff09b782390876c8c6cda0a17eec9">nvme_controller_config_t</a> cc)</td></tr>
<tr class="separator:a81186514eda42496873393557a046901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14c1d952a58550e910747273e3dad34b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#a14c1d952a58550e910747273e3dad34b">nvme_submit_cmd</a> (<a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *q)</td></tr>
<tr class="separator:a14c1d952a58550e910747273e3dad34b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9edecd91d5f175101db078e293f3645d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#a9edecd91d5f175101db078e293f3645d">nvme_check_completion</a> (<a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *q, int *stat, <a class="el" href="unvme_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> *cqe_cs)</td></tr>
<tr class="separator:a9edecd91d5f175101db078e293f3645d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a794ff84022ed6585ba98c6ddbc8b80b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#a794ff84022ed6585ba98c6ddbc8b80b7">nvme_wait_completion</a> (<a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *q, int cid, int timeout)</td></tr>
<tr class="separator:a794ff84022ed6585ba98c6ddbc8b80b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25ca6d13d3d39daf608c4e7695a62448"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#a25ca6d13d3d39daf608c4e7695a62448">nvme_acmd_identify</a> (<a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *dev, int nsid, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> prp1, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> prp2)</td></tr>
<tr class="separator:a25ca6d13d3d39daf608c4e7695a62448"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23bb6f17bafb7b0e4fce892d8895a0bb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#a23bb6f17bafb7b0e4fce892d8895a0bb">nvme_acmd_get_log_page</a> (<a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *dev, int nsid, int lid, int numd, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> prp1, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> prp2)</td></tr>
<tr class="separator:a23bb6f17bafb7b0e4fce892d8895a0bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb2565120d02c0dceea4019ffda8cd3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#a4bb2565120d02c0dceea4019ffda8cd3">nvme_acmd_get_features</a> (<a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *dev, int nsid, int fid, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> prp1, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> prp2, <a class="el" href="unvme_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> *res)</td></tr>
<tr class="separator:a4bb2565120d02c0dceea4019ffda8cd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a5dd8bcda20c9de22015e4ffcc9d9f0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#a9a5dd8bcda20c9de22015e4ffcc9d9f0">nvme_acmd_set_features</a> (<a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *dev, int nsid, int fid, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> prp1, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> prp2, <a class="el" href="unvme_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> *res)</td></tr>
<tr class="separator:a9a5dd8bcda20c9de22015e4ffcc9d9f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a169712f0741372a0e86e6ea57ff33766"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#a169712f0741372a0e86e6ea57ff33766">nvme_acmd_create_cq</a> (<a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *ioq, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> prp)</td></tr>
<tr class="separator:a169712f0741372a0e86e6ea57ff33766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9222db65f6c75a36ca551ca1b3bd35f8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#a9222db65f6c75a36ca551ca1b3bd35f8">nvme_acmd_create_sq</a> (<a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *ioq, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> prp)</td></tr>
<tr class="separator:a9222db65f6c75a36ca551ca1b3bd35f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c5eb548d13f98bd1c400d937cedaf90"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#a8c5eb548d13f98bd1c400d937cedaf90">nvme_acmd_delete_ioq</a> (<a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *ioq, int opc)</td></tr>
<tr class="separator:a8c5eb548d13f98bd1c400d937cedaf90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8722d2ab2a1edeea5dcf7942148bd803"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#a8722d2ab2a1edeea5dcf7942148bd803">nvme_acmd_delete_sq</a> (<a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *ioq)</td></tr>
<tr class="separator:a8722d2ab2a1edeea5dcf7942148bd803"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafbda3695aff2b9b2aa3cb7aef2c9cd3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#aafbda3695aff2b9b2aa3cb7aef2c9cd3">nvme_acmd_delete_cq</a> (<a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *ioq)</td></tr>
<tr class="separator:aafbda3695aff2b9b2aa3cb7aef2c9cd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa32a93deecafbde00deee1171ce1bcc4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#aa32a93deecafbde00deee1171ce1bcc4">nvme_acmd_vs</a> (<a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *dev, int nsid, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> prp1, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> prp2, int opc, <a class="el" href="unvme_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> cdw10_15[6])</td></tr>
<tr class="separator:aa32a93deecafbde00deee1171ce1bcc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bfcfdf1c5ec8f84125ad69b4fde0b87"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#a7bfcfdf1c5ec8f84125ad69b4fde0b87">nvme_cmd_vs</a> (<a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *ioq, <a class="el" href="unvme_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a> cid, int nsid, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> prp1, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> prp2, int opc, <a class="el" href="unvme_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> cdw10_15[6])</td></tr>
<tr class="separator:a7bfcfdf1c5ec8f84125ad69b4fde0b87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ac109a5084e0fd473167e18f140c288"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#a5ac109a5084e0fd473167e18f140c288">nvme_cmd_rw</a> (<a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *ioq, int opc, <a class="el" href="unvme_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a> cid, int nsid, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> slba, int nlb, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> prp1, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> prp2)</td></tr>
<tr class="separator:a5ac109a5084e0fd473167e18f140c288"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9d9f37b34391937aa6592b6ae777d50"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa9d9f37b34391937aa6592b6ae777d50"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>nvme_cmd_rw_extended</b> (<a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *ioq, int opc, <a class="el" href="unvme_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a> cid, int nsid, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> slba, int nlb, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> prp1, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> prp2, int rsvd12)</td></tr>
<tr class="separator:aa9d9f37b34391937aa6592b6ae777d50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a436ba33782d45b198f5fd1830ae3c30c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#a436ba33782d45b198f5fd1830ae3c30c">nvme_cmd_read</a> (<a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *ioq, <a class="el" href="unvme_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a> cid, int nsid, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> slba, int nlb, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> prp1, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> prp2)</td></tr>
<tr class="separator:a436ba33782d45b198f5fd1830ae3c30c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea7bb8a11d751ea41441e8bd826d33da"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#aea7bb8a11d751ea41441e8bd826d33da">nvme_cmd_write</a> (<a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *ioq, <a class="el" href="unvme_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a> cid, int nsid, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> slba, int nlb, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> prp1, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> prp2)</td></tr>
<tr class="separator:aea7bb8a11d751ea41441e8bd826d33da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d1140aabd18c557a9aaf3bcbd4debee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#a0d1140aabd18c557a9aaf3bcbd4debee">nvme_create_ioq</a> (<a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *dev, <a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *ioq, int id, int qsize, void *sqbuf, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> sqpa, void *cqbuf, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> cqpa)</td></tr>
<tr class="separator:a0d1140aabd18c557a9aaf3bcbd4debee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ad705a453efb8a21669ef4c95d8c968"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#a0ad705a453efb8a21669ef4c95d8c968">nvme_delete_ioq</a> (<a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *ioq)</td></tr>
<tr class="separator:a0ad705a453efb8a21669ef4c95d8c968"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9cde1e1294318442f4f1449fa3fa3d8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#ae9cde1e1294318442f4f1449fa3fa3d8">nvme_setup_adminq</a> (<a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *dev, int qsize, void *sqbuf, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> sqpa, void *cqbuf, <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> cqpa)</td></tr>
<tr class="separator:ae9cde1e1294318442f4f1449fa3fa3d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3d25f7fada3e065623f707cbee3b528"><td class="memItemLeft" align="right" valign="top"><a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#ad3d25f7fada3e065623f707cbee3b528">nvme_create</a> (<a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *dev, int mapfd)</td></tr>
<tr class="separator:ad3d25f7fada3e065623f707cbee3b528"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba3290163e951c7766cd8162adc84c9f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#aba3290163e951c7766cd8162adc84c9f">nvme_delete</a> (<a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *dev)</td></tr>
<tr class="separator:aba3290163e951c7766cd8162adc84c9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a97582709ee1ffaef0e01681d5567fa5a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a97582709ee1ffaef0e01681d5567fa5a"></a>
static <a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unvme__nvme_8c.html#a97582709ee1ffaef0e01681d5567fa5a">nvme_rdtsec</a></td></tr>
<tr class="memdesc:a97582709ee1ffaef0e01681d5567fa5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">rdtsc per second <br /></td></tr>
<tr class="separator:a97582709ee1ffaef0e01681d5567fa5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>NVMe implementation. </p>
<p>Copyright (c) 2015-2016, Micron Technology, Inc. All rights reserved.</p>
<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>
<ol type="1">
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
<li>Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</li>
</ol>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a169712f0741372a0e86e6ea57ff33766"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nvme_acmd_create_cq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *&#160;</td>
          <td class="paramname"><em>ioq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>prp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>NVMe create I/O completion queue command. Submit the command and wait for completion. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ioq</td><td>io queue </td></tr>
    <tr><td class="paramname">prp</td><td>PRP1 address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if ok, else -1. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unvme__nvme_8c_a169712f0741372a0e86e6ea57ff33766_cgraph.png" border="0" usemap="#unvme__nvme_8c_a169712f0741372a0e86e6ea57ff33766_cgraph" alt=""/></div>
<map name="unvme__nvme_8c_a169712f0741372a0e86e6ea57ff33766_cgraph" id="unvme__nvme_8c_a169712f0741372a0e86e6ea57ff33766_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9222db65f6c75a36ca551ca1b3bd35f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nvme_acmd_create_sq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *&#160;</td>
          <td class="paramname"><em>ioq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>prp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>NVMe create I/O submission queue command. Submit the command and wait for completion. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ioq</td><td>io queue </td></tr>
    <tr><td class="paramname">prp</td><td>PRP1 address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if ok, else -1. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unvme__nvme_8c_a9222db65f6c75a36ca551ca1b3bd35f8_cgraph.png" border="0" usemap="#unvme__nvme_8c_a9222db65f6c75a36ca551ca1b3bd35f8_cgraph" alt=""/></div>
<map name="unvme__nvme_8c_a9222db65f6c75a36ca551ca1b3bd35f8_cgraph" id="unvme__nvme_8c_a9222db65f6c75a36ca551ca1b3bd35f8_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aafbda3695aff2b9b2aa3cb7aef2c9cd3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nvme_acmd_delete_cq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *&#160;</td>
          <td class="paramname"><em>ioq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>NVMe delete I/O completion queue command. Submit the command and wait for completion. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ioq</td><td>io queue </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if ok else error code. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unvme__nvme_8c_aafbda3695aff2b9b2aa3cb7aef2c9cd3_cgraph.png" border="0" usemap="#unvme__nvme_8c_aafbda3695aff2b9b2aa3cb7aef2c9cd3_cgraph" alt=""/></div>
<map name="unvme__nvme_8c_aafbda3695aff2b9b2aa3cb7aef2c9cd3_cgraph" id="unvme__nvme_8c_aafbda3695aff2b9b2aa3cb7aef2c9cd3_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8c5eb548d13f98bd1c400d937cedaf90"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nvme_acmd_delete_ioq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *&#160;</td>
          <td class="paramname"><em>ioq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>opc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>NVMe delete I/O queue command. Submit the command and wait for completion. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ioq</td><td>io queue </td></tr>
    <tr><td class="paramname">opc</td><td>op code </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if ok else error code. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unvme__nvme_8c_a8c5eb548d13f98bd1c400d937cedaf90_cgraph.png" border="0" usemap="#unvme__nvme_8c_a8c5eb548d13f98bd1c400d937cedaf90_cgraph" alt=""/></div>
<map name="unvme__nvme_8c_a8c5eb548d13f98bd1c400d937cedaf90_cgraph" id="unvme__nvme_8c_a8c5eb548d13f98bd1c400d937cedaf90_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8722d2ab2a1edeea5dcf7942148bd803"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nvme_acmd_delete_sq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *&#160;</td>
          <td class="paramname"><em>ioq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>NVMe delete I/O submission queue command. Submit the command and wait for completion. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ioq</td><td>io queue </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if ok else error code. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unvme__nvme_8c_a8722d2ab2a1edeea5dcf7942148bd803_cgraph.png" border="0" usemap="#unvme__nvme_8c_a8722d2ab2a1edeea5dcf7942148bd803_cgraph" alt=""/></div>
<map name="unvme__nvme_8c_a8722d2ab2a1edeea5dcf7942148bd803_cgraph" id="unvme__nvme_8c_a8722d2ab2a1edeea5dcf7942148bd803_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4bb2565120d02c0dceea4019ffda8cd3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nvme_acmd_get_features </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nsid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>prp1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>prp2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> *&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>NVMe get features command. Submit the command and wait for completion. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>device context </td></tr>
    <tr><td class="paramname">nsid</td><td>namespace id </td></tr>
    <tr><td class="paramname">fid</td><td>feature id </td></tr>
    <tr><td class="paramname">prp1</td><td>PRP1 address </td></tr>
    <tr><td class="paramname">prp2</td><td>PRP2 address </td></tr>
    <tr><td class="paramname">res</td><td>dword 0 value returned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>completion status (0 if ok). </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unvme__nvme_8c_a4bb2565120d02c0dceea4019ffda8cd3_cgraph.png" border="0" usemap="#unvme__nvme_8c_a4bb2565120d02c0dceea4019ffda8cd3_cgraph" alt=""/></div>
<map name="unvme__nvme_8c_a4bb2565120d02c0dceea4019ffda8cd3_cgraph" id="unvme__nvme_8c_a4bb2565120d02c0dceea4019ffda8cd3_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a23bb6f17bafb7b0e4fce892d8895a0bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nvme_acmd_get_log_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nsid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>prp1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>prp2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>NVMe get log page command. Submit the command and wait for completion. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>device context </td></tr>
    <tr><td class="paramname">nsid</td><td>namespace id </td></tr>
    <tr><td class="paramname">lid</td><td>log page id </td></tr>
    <tr><td class="paramname">numd</td><td>number of dwords </td></tr>
    <tr><td class="paramname">prp1</td><td>PRP1 address </td></tr>
    <tr><td class="paramname">prp2</td><td>PRP2 address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>completion status (0 if ok). </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unvme__nvme_8c_a23bb6f17bafb7b0e4fce892d8895a0bb_cgraph.png" border="0" usemap="#unvme__nvme_8c_a23bb6f17bafb7b0e4fce892d8895a0bb_cgraph" alt=""/></div>
<map name="unvme__nvme_8c_a23bb6f17bafb7b0e4fce892d8895a0bb_cgraph" id="unvme__nvme_8c_a23bb6f17bafb7b0e4fce892d8895a0bb_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a25ca6d13d3d39daf608c4e7695a62448"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nvme_acmd_identify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nsid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>prp1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>prp2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>NVMe identify command. Submit the command and wait for completion. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>device context </td></tr>
    <tr><td class="paramname">nsid</td><td>namespace id (&lt; 0 implies cns) </td></tr>
    <tr><td class="paramname">prp1</td><td>PRP1 address </td></tr>
    <tr><td class="paramname">prp2</td><td>PRP2 address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>completion status (0 if ok). </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unvme__nvme_8c_a25ca6d13d3d39daf608c4e7695a62448_cgraph.png" border="0" usemap="#unvme__nvme_8c_a25ca6d13d3d39daf608c4e7695a62448_cgraph" alt=""/></div>
<map name="unvme__nvme_8c_a25ca6d13d3d39daf608c4e7695a62448_cgraph" id="unvme__nvme_8c_a25ca6d13d3d39daf608c4e7695a62448_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9a5dd8bcda20c9de22015e4ffcc9d9f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nvme_acmd_set_features </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nsid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>prp1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>prp2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> *&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>NVMe set features command. Submit the command and wait for completion. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>device context </td></tr>
    <tr><td class="paramname">nsid</td><td>namespace id </td></tr>
    <tr><td class="paramname">fid</td><td>feature id </td></tr>
    <tr><td class="paramname">prp1</td><td>PRP1 address </td></tr>
    <tr><td class="paramname">prp2</td><td>PRP2 address </td></tr>
    <tr><td class="paramname">res</td><td>dword 0 value returned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>completion status (0 if ok). </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unvme__nvme_8c_a9a5dd8bcda20c9de22015e4ffcc9d9f0_cgraph.png" border="0" usemap="#unvme__nvme_8c_a9a5dd8bcda20c9de22015e4ffcc9d9f0_cgraph" alt=""/></div>
<map name="unvme__nvme_8c_a9a5dd8bcda20c9de22015e4ffcc9d9f0_cgraph" id="unvme__nvme_8c_a9a5dd8bcda20c9de22015e4ffcc9d9f0_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa32a93deecafbde00deee1171ce1bcc4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nvme_acmd_vs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nsid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>prp1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>prp2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>opc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>cdw10_15</em>[6]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>NVMe submit a vendor specific command. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>device context </td></tr>
    <tr><td class="paramname">nsid</td><td>namespace </td></tr>
    <tr><td class="paramname">prp1</td><td>PRP1 address </td></tr>
    <tr><td class="paramname">prp2</td><td>PRP2 address </td></tr>
    <tr><td class="paramname">opc</td><td>vendor specific op code </td></tr>
    <tr><td class="paramname">cdw10_15</td><td>command dwords 10-15 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if ok else -1. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unvme__nvme_8c_aa32a93deecafbde00deee1171ce1bcc4_cgraph.png" border="0" usemap="#unvme__nvme_8c_aa32a93deecafbde00deee1171ce1bcc4_cgraph" alt=""/></div>
<map name="unvme__nvme_8c_aa32a93deecafbde00deee1171ce1bcc4_cgraph" id="unvme__nvme_8c_aa32a93deecafbde00deee1171ce1bcc4_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9edecd91d5f175101db078e293f3645d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nvme_check_completion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>stat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> *&#160;</td>
          <td class="paramname"><em>cqe_cs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check a completion queue and return the completed command id and status. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>queue </td></tr>
    <tr><td class="paramname">stat</td><td>completion status returned </td></tr>
    <tr><td class="paramname">cqe_cs</td><td>CQE command specific DW0 returned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completed command id or -1 if there's no completion. </dd></dl>

</div>
</div>
<a class="anchor" id="a436ba33782d45b198f5fd1830ae3c30c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nvme_cmd_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *&#160;</td>
          <td class="paramname"><em>ioq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a>&#160;</td>
          <td class="paramname"><em>cid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nsid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>slba</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nlb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>prp1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>prp2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>NVMe submit a read command. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ioq</td><td>io queue </td></tr>
    <tr><td class="paramname">cid</td><td>command id </td></tr>
    <tr><td class="paramname">nsid</td><td>namespace </td></tr>
    <tr><td class="paramname">slba</td><td>startling logical block address </td></tr>
    <tr><td class="paramname">nlb</td><td>number of logical blocks </td></tr>
    <tr><td class="paramname">prp1</td><td>PRP1 address </td></tr>
    <tr><td class="paramname">prp2</td><td>PRP2 address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if ok else -1. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unvme__nvme_8c_a436ba33782d45b198f5fd1830ae3c30c_cgraph.png" border="0" usemap="#unvme__nvme_8c_a436ba33782d45b198f5fd1830ae3c30c_cgraph" alt=""/></div>
<map name="unvme__nvme_8c_a436ba33782d45b198f5fd1830ae3c30c_cgraph" id="unvme__nvme_8c_a436ba33782d45b198f5fd1830ae3c30c_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5ac109a5084e0fd473167e18f140c288"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nvme_cmd_rw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *&#160;</td>
          <td class="paramname"><em>ioq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>opc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a>&#160;</td>
          <td class="paramname"><em>cid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nsid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>slba</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nlb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>prp1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>prp2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>NVMe submit a read write command. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ioq</td><td>io queue </td></tr>
    <tr><td class="paramname">opc</td><td>op code </td></tr>
    <tr><td class="paramname">cid</td><td>command id </td></tr>
    <tr><td class="paramname">nsid</td><td>namespace </td></tr>
    <tr><td class="paramname">slba</td><td>startling logical block address </td></tr>
    <tr><td class="paramname">nlb</td><td>number of logical blocks </td></tr>
    <tr><td class="paramname">prp1</td><td>PRP1 address </td></tr>
    <tr><td class="paramname">prp2</td><td>PRP2 address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if ok else -1. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unvme__nvme_8c_a5ac109a5084e0fd473167e18f140c288_cgraph.png" border="0" usemap="#unvme__nvme_8c_a5ac109a5084e0fd473167e18f140c288_cgraph" alt=""/></div>
<map name="unvme__nvme_8c_a5ac109a5084e0fd473167e18f140c288_cgraph" id="unvme__nvme_8c_a5ac109a5084e0fd473167e18f140c288_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7bfcfdf1c5ec8f84125ad69b4fde0b87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nvme_cmd_vs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *&#160;</td>
          <td class="paramname"><em>ioq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a>&#160;</td>
          <td class="paramname"><em>cid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nsid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>prp1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>prp2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>opc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>cdw10_15</em>[6]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>NVMe submit a vendor specific command. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ioq</td><td>io queue </td></tr>
    <tr><td class="paramname">cid</td><td>command id </td></tr>
    <tr><td class="paramname">nsid</td><td>namespace </td></tr>
    <tr><td class="paramname">prp1</td><td>PRP1 address </td></tr>
    <tr><td class="paramname">prp2</td><td>PRP2 address </td></tr>
    <tr><td class="paramname">opc</td><td>vendor specific op code </td></tr>
    <tr><td class="paramname">cdw10_15</td><td>command dwords 10-15 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if ok else -1. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unvme__nvme_8c_a7bfcfdf1c5ec8f84125ad69b4fde0b87_cgraph.png" border="0" usemap="#unvme__nvme_8c_a7bfcfdf1c5ec8f84125ad69b4fde0b87_cgraph" alt=""/></div>
<map name="unvme__nvme_8c_a7bfcfdf1c5ec8f84125ad69b4fde0b87_cgraph" id="unvme__nvme_8c_a7bfcfdf1c5ec8f84125ad69b4fde0b87_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aea7bb8a11d751ea41441e8bd826d33da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nvme_cmd_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *&#160;</td>
          <td class="paramname"><em>ioq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a>&#160;</td>
          <td class="paramname"><em>cid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nsid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>slba</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nlb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>prp1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>prp2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>NVMe submit a write command. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ioq</td><td>io queue </td></tr>
    <tr><td class="paramname">cid</td><td>command id </td></tr>
    <tr><td class="paramname">nsid</td><td>namespace </td></tr>
    <tr><td class="paramname">slba</td><td>startling logical block address </td></tr>
    <tr><td class="paramname">nlb</td><td>number of blocks </td></tr>
    <tr><td class="paramname">prp1</td><td>PRP1 address </td></tr>
    <tr><td class="paramname">prp2</td><td>PRP2 address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if ok else -1. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unvme__nvme_8c_aea7bb8a11d751ea41441e8bd826d33da_cgraph.png" border="0" usemap="#unvme__nvme_8c_aea7bb8a11d751ea41441e8bd826d33da_cgraph" alt=""/></div>
<map name="unvme__nvme_8c_aea7bb8a11d751ea41441e8bd826d33da_cgraph" id="unvme__nvme_8c_aea7bb8a11d751ea41441e8bd826d33da_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad3d25f7fada3e065623f707cbee3b528"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a>* nvme_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mapfd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create an NVMe device context and map the controller register. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>if NULL then allocate context </td></tr>
    <tr><td class="paramname">mapfd</td><td>file descriptor for register mapping </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>device context or NULL if failure. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unvme__nvme_8c_ad3d25f7fada3e065623f707cbee3b528_cgraph.png" border="0" usemap="#unvme__nvme_8c_ad3d25f7fada3e065623f707cbee3b528_cgraph" alt=""/></div>
<map name="unvme__nvme_8c_ad3d25f7fada3e065623f707cbee3b528_cgraph" id="unvme__nvme_8c_ad3d25f7fada3e065623f707cbee3b528_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0d1140aabd18c557a9aaf3bcbd4debee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a>* nvme_create_ioq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *&#160;</td>
          <td class="paramname"><em>ioq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sqbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>sqpa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cqbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>cqpa</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create an IO submission-completion queue pair. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>device context </td></tr>
    <tr><td class="paramname">ioq</td><td>if NULL then allocate queue </td></tr>
    <tr><td class="paramname">id</td><td>queue id </td></tr>
    <tr><td class="paramname">qsize</td><td>queue size </td></tr>
    <tr><td class="paramname">sqbuf</td><td>submission queue buffer </td></tr>
    <tr><td class="paramname">sqpa</td><td>submission queue IO physical address </td></tr>
    <tr><td class="paramname">cqbuf</td><td>completion queue buffer </td></tr>
    <tr><td class="paramname">cqpa</td><td>admin completion IO physical address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the created io queue or NULL if failure. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unvme__nvme_8c_a0d1140aabd18c557a9aaf3bcbd4debee_cgraph.png" border="0" usemap="#unvme__nvme_8c_a0d1140aabd18c557a9aaf3bcbd4debee_cgraph" alt=""/></div>
<map name="unvme__nvme_8c_a0d1140aabd18c557a9aaf3bcbd4debee_cgraph" id="unvme__nvme_8c_a0d1140aabd18c557a9aaf3bcbd4debee_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a07e19a085ac3acfc906edc23086c9398"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nvme_ctlr_disable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Disable controller. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>device context </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if ok else -1. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unvme__nvme_8c_a07e19a085ac3acfc906edc23086c9398_cgraph.png" border="0" usemap="#unvme__nvme_8c_a07e19a085ac3acfc906edc23086c9398_cgraph" alt=""/></div>
<map name="unvme__nvme_8c_a07e19a085ac3acfc906edc23086c9398_cgraph" id="unvme__nvme_8c_a07e19a085ac3acfc906edc23086c9398_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a81186514eda42496873393557a046901"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nvme_ctlr_enable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#af2cff09b782390876c8c6cda0a17eec9">nvme_controller_config_t</a>&#160;</td>
          <td class="paramname"><em>cc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enable controller. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>device context </td></tr>
    <tr><td class="paramname">cc</td><td>controller configuration settings </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if ok else -1. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unvme__nvme_8c_a81186514eda42496873393557a046901_cgraph.png" border="0" usemap="#unvme__nvme_8c_a81186514eda42496873393557a046901_cgraph" alt=""/></div>
<map name="unvme__nvme_8c_a81186514eda42496873393557a046901_cgraph" id="unvme__nvme_8c_a81186514eda42496873393557a046901_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ace54fb125ce34434626a3f2f0679f088"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nvme_ctlr_wait_ready </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ready</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Wait for controller enabled/disabled state. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>device context </td></tr>
    <tr><td class="paramname">ready</td><td>ready state (enabled/disabled) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if ok else -1. </dd></dl>

</div>
</div>
<a class="anchor" id="aba3290163e951c7766cd8162adc84c9f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nvme_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete an NVMe device context </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>device context </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0ad705a453efb8a21669ef4c95d8c968"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nvme_delete_ioq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *&#160;</td>
          <td class="paramname"><em>ioq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete an IO submission-completion queue pair. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ioq</td><td>io queue to setup </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if ok else -1. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unvme__nvme_8c_a0ad705a453efb8a21669ef4c95d8c968_cgraph.png" border="0" usemap="#unvme__nvme_8c_a0ad705a453efb8a21669ef4c95d8c968_cgraph" alt=""/></div>
<map name="unvme__nvme_8c_a0ad705a453efb8a21669ef4c95d8c968_cgraph" id="unvme__nvme_8c_a0ad705a453efb8a21669ef4c95d8c968_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae9cde1e1294318442f4f1449fa3fa3d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a>* nvme_setup_adminq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#a7a0d7eaf52521041352a11e2020258df">nvme_device_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sqbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>sqpa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cqbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unvme_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>&#160;</td>
          <td class="paramname"><em>cqpa</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>NVMe setup admin submission-completion queue pair. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>device context </td></tr>
    <tr><td class="paramname">qsize</td><td>queue size </td></tr>
    <tr><td class="paramname">sqbuf</td><td>submission queue buffer </td></tr>
    <tr><td class="paramname">sqpa</td><td>submission queue IO physical address </td></tr>
    <tr><td class="paramname">cqbuf</td><td>completion queue buffer </td></tr>
    <tr><td class="paramname">cqpa</td><td>admin completion physical address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the admin queue or NULL if failure. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unvme__nvme_8c_ae9cde1e1294318442f4f1449fa3fa3d8_cgraph.png" border="0" usemap="#unvme__nvme_8c_ae9cde1e1294318442f4f1449fa3fa3d8_cgraph" alt=""/></div>
<map name="unvme__nvme_8c_ae9cde1e1294318442f4f1449fa3fa3d8_cgraph" id="unvme__nvme_8c_ae9cde1e1294318442f4f1449fa3fa3d8_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a14c1d952a58550e910747273e3dad34b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nvme_submit_cmd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *&#160;</td>
          <td class="paramname"><em>q</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Submit an entry at submission queue tail. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>queue </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if ok else -1. </dd></dl>

</div>
</div>
<a class="anchor" id="a794ff84022ed6585ba98c6ddbc8b80b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nvme_wait_completion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unvme__nvme_8h.html#aff953bd9815b5d6c74f04df457b81b2d">nvme_queue_t</a> *&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait for a given command completion until timeout. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>queue </td></tr>
    <tr><td class="paramname">cid</td><td>cid </td></tr>
    <tr><td class="paramname">timeout</td><td>timeout in seconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>completion status (0 if ok). </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unvme__nvme_8c_a794ff84022ed6585ba98c6ddbc8b80b7_cgraph.png" border="0" usemap="#unvme__nvme_8c_a794ff84022ed6585ba98c6ddbc8b80b7_cgraph" alt=""/></div>
<map name="unvme__nvme_8c_a794ff84022ed6585ba98c6ddbc8b80b7_cgraph" id="unvme__nvme_8c_a794ff84022ed6585ba98c6ddbc8b80b7_cgraph">
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="unvme__nvme_8c.html">unvme_nvme.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
